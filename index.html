<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaaS Invoice Generator</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="bg-light">

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm mb-4">
        <div class="container-fluid px-4">
            <a class="navbar-brand fw-bold" href="#"><i class="bi bi-receipt me-2"></i>InvoiceGen</a>
            <div class="d-flex">
                <button id="newInvoiceBtn" class="btn btn-outline-light btn-sm me-2"><i
                        class="bi bi-plus-lg me-1"></i>New Invoice</button>
            </div>
        </div>
    </nav>

    <div class="container-fluid px-4 pb-5">
        <div class="row g-4">
            <!-- INPUT SECTION -->
            <div class="col-lg-5 col-xl-4 no-print">

                <!-- CONFIGURATION CARD -->
                <div class="card border-0 shadow-sm rounded-3 mb-4">
                    <div class="card-header bg-white border-bottom-0 pt-4 px-4">
                        <h5 class="fw-bold mb-0 text-primary">Settings</h5>
                    </div>
                    <div class="card-body px-4">
                        <div class="row g-3">
                            <div class="col-6">
                                <label class="form-label small text-uppercase fw-bold text-muted">Currency</label>
                                <select id="currencySelect" class="form-select">
                                    <option value="USD" data-symbol="$">USD ($)</option>
                                    <option value="INR" data-symbol="₹">INR (₹)</option>
                                    <option value="EUR" data-symbol="€">EUR (€)</option>
                                    <option value="GBP" data-symbol="£">GBP (£)</option>
                                    <option value="AED" data-symbol="AED">AED (د.إ)</option>
                                </select>
                            </div>
                            <div class="col-6">
                                <label class="form-label small text-uppercase fw-bold text-muted">Template</label>
                                <select id="templateSelect" class="form-select">
                                    <option value="classic">Classic</option>
                                    <option value="modern">Modern</option>
                                    <option value="minimal">Minimal</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="gstToggle">
                                    <label class="form-check-label fw-bold small text-uppercase text-muted"
                                        for="gstToggle">Enable Indian GST Mode</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card border-0 shadow-sm rounded-3">
                    <div
                        class="card-header bg-white border-bottom-0 pt-4 px-4 d-flex justify-content-between align-items-center">
                        <h5 class="fw-bold mb-0 text-primary">Invoice Details</h5>
                        <div class="input-group input-group-sm w-auto">
                            <span class="input-group-text bg-light border-0 fw-bold text-muted">ID</span>
                            <input type="text" id="invoiceIdInput"
                                class="form-control border-0 bg-light fw-bold text-dark" readonly
                                style="max-width: 150px; text-align: right;">
                        </div>
                    </div>
                    <div class="card-body px-4">
                        <form id="invoiceForm">

                            <!-- LOGO UPLOAD -->
                            <div class="mb-4">
                                <label class="form-label small text-uppercase fw-bold text-muted">Business Logo</label>
                                <input type="file" id="logoInput" class="form-control" accept="image/*">
                            </div>

                            <!-- BUSINESS DETAILS -->
                            <div class="mb-4">
                                <label class="form-label small text-uppercase fw-bold text-muted">From (Your
                                    Business)</label>
                                <input type="text" id="businessNameInput" class="form-control mb-2"
                                    placeholder="Business Name">
                                <textarea id="businessAddressInput" class="form-control mb-2" rows="2"
                                    placeholder="Address"></textarea>
                                <input type="email" id="businessEmailInput" class="form-control mb-2"
                                    placeholder="Email">
                                <input type="tel" id="businessPhoneInput" class="form-control mb-2" placeholder="Phone">

                                <!-- GST FIELDS (Hidden by default) -->
                                <div class="gst-fields d-none">
                                    <input type="text" id="businessGstInput" class="form-control mb-2"
                                        placeholder="Your GSTIN">
                                    <select id="businessStateInput" class="form-select">
                                        <option value="" selected disabled>Select State (Place of Supply)</option>
                                        <option value="Delhi">Delhi</option>
                                        <option value="Maharashtra">Maharashtra</option>
                                        <option value="Karnataka">Karnataka</option>
                                        <option value="Tamil Nadu">Tamil Nadu</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>

                                <!-- NOTES & TERMS -->
                                <div class="mb-4">
                                    <label class="form-label small text-uppercase fw-bold text-muted">Notes</label>
                                    <textarea id="notesInput" class="form-control mb-2" rows="2"
                                        placeholder="Thank you for your business!"></textarea>

                                    <label class="form-label small text-uppercase fw-bold text-muted">Terms &
                                        Conditions</label>
                                    <textarea id="termsInput" class="form-control" rows="2"
                                        placeholder="Please pay within the due date."></textarea>
                                </div>

                                <!-- SIGNATURE -->
                                <div class="mb-4">
                                    <label class="form-label small text-uppercase fw-bold text-muted">Signature
                                        (Image)</label>
                                    <input type="file" id="signatureInput" class="form-control" accept="image/*">
                                </div>
                            </div>

                            <!-- CLIENT DETAILS -->
                            <div class="mb-4">
                                <label class="form-label small text-uppercase fw-bold text-muted">To (Client)</label>
                                <input type="text" id="clientNameInput" class="form-control mb-2"
                                    placeholder="Client Name">
                                <textarea id="clientAddressInput" class="form-control mb-2" rows="2"
                                    placeholder="Address"></textarea>
                                <input type="email" id="clientEmailInput" class="form-control mb-2"
                                    placeholder="Client Email">

                                <!-- GST FIELDS (Hidden by default) -->
                                <div class="gst-fields d-none">
                                    <input type="text" id="clientGstInput" class="form-control mb-2"
                                        placeholder="Client GSTIN">
                                    <select id="clientStateInput" class="form-select">
                                        <option value="" selected disabled>Select Client State</option>
                                        <option value="Delhi">Delhi</option>
                                        <option value="Maharashtra">Maharashtra</option>
                                        <option value="Karnataka">Karnataka</option>
                                        <option value="Tamil Nadu">Tamil Nadu</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>

                            <!-- INVOICE META -->
                            <div class="row mb-4">
                                <div class="col-6">
                                    <label class="form-label small text-uppercase fw-bold text-muted">Date</label>
                                    <input type="date" id="invoiceDateInput" class="form-control">
                                </div>
                                <div class="col-6">
                                    <label class="form-label small text-uppercase fw-bold text-muted">Payment
                                        Terms</label>
                                    <select id="paymentTermsInput" class="form-select">
                                        <option value="0">Due on Receipt</option>
                                        <option value="7">Net 7</option>
                                        <option value="15">Net 15</option>
                                        <option value="30">Net 30</option>
                                    </select>
                                    <input type="date" id="dueDateInput" class="form-control mt-2" readonly>
                                </div>
                            </div>

                            <!-- ITEMS -->
                            <div class="mb-4">
                                <label
                                    class="form-label small text-uppercase fw-bold text-muted d-flex justify-content-between align-items-center">
                                    Items
                                    <button type="button" id="addItemBtn"
                                        class="btn btn-sm btn-light text-primary border-0 fw-bold"><i
                                            class="bi bi-plus"></i> Add Item</button>
                                </label>
                                <div id="itemsContainer">
                                    <!-- Dynamic Items will be appended here -->
                                </div>
                            </div>

                            <!-- TAX & DISCOUNT -->
                            <div class="row mb-4">
                                <div class="col-6">
                                    <label class="form-label small text-uppercase fw-bold text-muted">Tax / GST
                                        (%)</label>
                                    <input type="number" id="taxRateInput" class="form-control" value="0" min="0">
                                </div>

                                <!-- SIGNATURE PREVIEW -->
                                <div class="row mt-5 d-none px-5" id="signaturePreviewContainer">
                                    <div class="col-12 text-end">
                                        <img id="signaturePreview" src="" alt="Signature" style="max-height: 60px;">
                                        <p class="text-muted small mt-2">Authorized Signatory</p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label class="form-label small text-uppercase fw-bold text-muted">Discount
                                        (%)</label>
                                    <input type="number" id="discountRateInput" class="form-control" value="0" min="0">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- PREVIEW SECTION -->
            <div class="col-lg-7 col-xl-8">
                <div class="d-flex justify-content-between align-items-center mb-3 no-print">
                    <h5 class="fw-bold mb-0 text-muted">Preview</h5>
                    <div class="d-flex align-items-center">
                        <small class="text-muted me-3 d-none d-md-block" style="font-size: 0.75rem;"><i
                                class="bi bi-shield-lock-fill me-1"></i>Your data is never uploaded.</small>
                        <button id="downloadPdfBtn" class="btn btn-primary shadow-sm"><i
                                class="bi bi-download me-2"></i>Download PDF</button>
                    </div>
                </div>

                <div class="invoice-container bg-white shadow-lg p-5 rounded-0 mx-auto" id="invoicePreview">
                    <!-- HEADER -->
                    <div class="row justify-content-between mb-5">
                        <div class="col-6">
                            <img id="logoPreview" src="" alt="Logo" class="img-fluid mb-3 d-none"
                                style="max-height: 80px;">
                            <h4 id="businessNamePreview" class="fw-bold text-primary mb-1">Your Business</h4>
                            <div id="businessDetailsPreview" class="text-muted small"></div>
                        </div>
                        <div class="col-5 text-end">
                            <h2 class="text-uppercase text-secondary fw-light mb-1">Invoice</h2>
                            <h5 id="invoiceIdPreview" class="fw-bold text-dark mb-3">INV-0000</h5>
                            <div class="text-muted small">
                                <div>Date: <span id="invoiceDatePreview" class="fw-medium text-dark"></span></div>
                                <div>Due: <span id="dueDatePreview" class="fw-medium text-dark"></span></div>
                            </div>
                        </div>
                    </div>

                    <!-- BILL TO -->
                    <div class="row mb-5">
                        <div class="col-12">
                            <p class="small text-uppercase fw-bold text-muted mb-2">Bill To</p>
                            <h5 id="clientNamePreview" class="fw-bold mb-1">Client Name</h5>
                            <div id="clientDetailsPreview" class="text-muted small"></div>
                        </div>
                    </div>

                    <!-- TABLE -->
                    <table class="table table-borderless mb-5 item-table">
                        <thead class="border-bottom">
                            <tr>
                                <th scope="col" class="ps-0 text-muted small text-uppercase">Item Description</th>
                                <th scope="col" class="text-end text-muted small text-uppercase" style="width: 100px;">
                                    Qty</th>
                                <th scope="col" class="text-end text-muted small text-uppercase" style="width: 120px;">
                                    Price</th>
                                <th scope="col" class="text-end text-muted small text-uppercase" style="width: 120px;">
                                    Total</th>
                            </tr>
                        </thead>
                        <tbody id="itemsPreviewBody">
                            <!-- Items go here -->
                        </tbody>
                    </table>

                    <!-- TOTALS -->
                    <div class="row justify-content-end">
                        <div class="col-md-5">
                            <table class="table table-sm table-borderless">
                                <tr>
                                    <td class="text-muted">Subtotal</td>
                                    <td class="text-end fw-medium" id="subtotalPreview">$0.00</td>
                                </tr>
                                <!-- STANDARD TAX -->
                                <tr id="taxRow" class="d-none">
                                    <td class="text-muted">Tax (<span id="taxRatePreview">0</span>%)</td>
                                    <td class="text-end fw-medium" id="taxAmountPreview">$0.00</td>
                                </tr>

                                <!-- GST BREAKDOWN (Dynamic) -->
                                <tr id="cgstRow" class="d-none">
                                    <td class="text-muted">CGST (<span id="cgstRatePreview">0</span>%)</td>
                                    <td class="text-end fw-medium" id="cgstAmountPreview">$0.00</td>
                                </tr>
                                <tr id="sgstRow" class="d-none">
                                    <td class="text-muted">SGST (<span id="sgstRatePreview">0</span>%)</td>
                                    <td class="text-end fw-medium" id="sgstAmountPreview">$0.00</td>
                                </tr>
                                <tr id="igstRow" class="d-none">
                                    <td class="text-muted">IGST (<span id="igstRatePreview">0</span>%)</td>
                                    <td class="text-end fw-medium" id="igstAmountPreview">$0.00</td>
                                </tr>

                                <tr id="discountRow" class="d-none">
                                    <td class="text-muted text-success">Discount (<span
                                            id="discountRatePreview">0</span>%)</td>
                                    <td class="text-end fw-medium text-success" id="discountAmountPreview">-$0.00</td>
                                </tr>
                                <tr class="border-top icon-link-hover">
                                    <td class="pt-3 fs-5 fw-bold text-primary">Total</td>
                                    <td class="pt-3 fs-5 fw-bold text-end text-primary" id="grandTotalPreview">$0.00
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <!-- NOTES & TERMS (Moved to Bottom) -->
                    <div class="row mt-5 pt-4 border-top d-none" id="notesTermsContainer">
                        <div class="col-12">
                            <div id="notesSection" class="mb-4 d-none">
                                <h6 class="fw-bold text-muted small text-uppercase mb-2">Notes</h6>
                                <p id="notesPreview" class="text-muted small text-break"></p>
                            </div>

                            <div id="termsSection" class="d-none">
                                <h6 class="fw-bold text-muted small text-uppercase mb-2">Terms & Conditions</h6>
                                <p id="termsPreview" class="text-muted small text-break"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FOOTER -->
                <div class="text-center mt-4 mb-5 no-print">
                    <p class="text-muted small mb-1">Generated by <strong>InvoiceGen</strong>. 100% Free. No login
                        required. All data stays in your browser.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
        integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>
</body>

</html>